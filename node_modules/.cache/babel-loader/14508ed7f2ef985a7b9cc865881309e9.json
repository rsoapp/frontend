{"remainingRequest":"/home/majsavli/rsoapp/node_modules/babel-loader/lib/index.js!/home/majsavli/rsoapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/majsavli/rsoapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/majsavli/rsoapp/src/views/EditAd.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/majsavli/rsoapp/src/views/EditAd.vue","mtime":1609950161626},{"path":"/home/majsavli/rsoapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/majsavli/rsoapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/majsavli/rsoapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/majsavli/rsoapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNyZWF0ZUFkIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2F0ZWdvcmllczogWydCcmVua2FsYScsICdUb2xrYWxhJywgJ0dvZGFsYScsICdQaWhhbGEnLCAnSW7FoXRydW1lbnRpIHMgdGlwa2FtaScsICdUcm9iaWxhJywgJ0RydWdvJ10sCiAgICAgIGNvbmRpdGlvbnM6IFsnTm92bycsICdSYWJsamVubyddLAogICAgICBtZXNzYWdlOiAiIiwKICAgICAgdGl0bGU6IG51bGwsCiAgICAgIHByaWNlOiBudWxsLAogICAgICBkZXNjOiBudWxsLAogICAgICBjYXRlZ29yeTogbnVsbCwKICAgICAgY29uZDogbnVsbCwKICAgICAgaW1hZ2VzOiBudWxsLAogICAgICBhZDogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL3YxL2Fkcy8nICsgdGhpcy4kcm91dGUucGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy5hZCA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICBjb25zb2xlLmxvZygnRXJyb3InLCBlKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0RWRpdGVkQWQ6IGZ1bmN0aW9uIHN1Ym1pdEVkaXRlZEFkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICB2YXIgdXJsID0gImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC92MS9hZHMvIiArIHRoaXMuYWQuaWQ7CgogICAgICBpZiAodGhpcy5pbWFnZXMgIT0gbnVsbCkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pbWFnZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiaW1hZ2VzIiwgdGhpcy5pbWFnZXNbaV0sIHRoaXMuaW1hZ2VzW2ldLm5hbWUpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImltYWdlcyIsIG51bGwpOwogICAgICB9CgogICAgICBmb3JtRGF0YS5hcHBlbmQoJ3RpdGxlJywgdGhpcy5hZC50aXRsZSk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgncHJpY2UnLCB0aGlzLmFkLnByaWNlKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdkZXNjcmlwdGlvbicsIHRoaXMuYWQuZGVzYyk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnY29uZCcsIHRoaXMuYWQuY29uZCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnY2F0ZWdvcnknLCB0aGlzLmFkLmNhdGVnb3J5KTsKICAgICAgZmV0Y2godXJsLCB7CiAgICAgICAgbWV0aG9kOiAnUFVUJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAndG9rZW4nOiB0aGlzLiRzdG9yZS5zdGF0ZS5sb2dnZWRVc2VySWQKICAgICAgICB9LAogICAgICAgIGJvZHk6IGZvcm1EYXRhCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5tZXNzYWdlID0gIk9nbGFzIHVzcGXFoW5vIHBvc29kb2JsamVuISI7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIF90aGlzMi5tZXNzYWdlID0gIk5hcGFrYS4gUHJvc2ltbyBwb3NrdXNpdGUgem5vdmEuIjsKICAgICAgfSk7CiAgICB9LAogICAgb25GaWxlU2VsZWN0ZWQ6IGZ1bmN0aW9uIG9uRmlsZVNlbGVjdGVkKGV2ZW50KSB7CiAgICAgIHRoaXMuaW1hZ2VzID0gZXZlbnQudGFyZ2V0LmZpbGVzOwogICAgfQogIH0KfTs="},{"version":3,"sources":["EditAd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,QAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,CAAA,UAAA,EAAA,SAAA,EAAA,QAAA,EAAA,QAAA,EAAA,uBAAA,EAAA,SAAA,EAAA,OAAA,CADA;AAEA,MAAA,UAAA,EAAA,CAAA,MAAA,EAAA,UAAA,CAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA,IAJA;AAKA,MAAA,KAAA,EAAA,IALA;AAMA,MAAA,IAAA,EAAA,IANA;AAOA,MAAA,QAAA,EAAA,IAPA;AAQA,MAAA,IAAA,EAAA,IARA;AASA,MAAA,MAAA,EAAA,IATA;AAUA,MAAA,EAAA,EAAA;AAVA,KAAA;AAYA,GAfA;AAgBA,EAAA,OAAA,EAAA,mBAAA;AAAA;;AACA,IAAA,KAAA,CAAA,GAAA,CAAA,kCAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,MAAA,KAAA,CAAA,EAAA,GAAA,QAAA,CAAA,IAAA;AACA,KAHA,EAGA,KAHA,CAGA,UAAA,CAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,CAAA;AACA,KALA;AAMA,GAvBA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AACA,UAAA,QAAA,GAAA,IAAA,QAAA,EAAA;AACA,UAAA,GAAA,GAAA,kCAAA,KAAA,EAAA,CAAA,EAAA;;AAEA,UAAA,KAAA,MAAA,IAAA,IAAA,EAAA;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,MAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,UAAA,QAAA,CAAA,MAAA,CAAA,QAAA,EAAA,KAAA,MAAA,CAAA,CAAA,CAAA,EAAA,KAAA,MAAA,CAAA,CAAA,EAAA,IAAA;AACA;AACA,OAJA,MAKA;AACA,QAAA,QAAA,CAAA,MAAA,CAAA,QAAA,EAAA,IAAA;AACA;;AAEA,MAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA,EAAA,CAAA,KAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA,EAAA,CAAA,KAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,aAAA,EAAA,KAAA,EAAA,CAAA,IAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,KAAA,EAAA,CAAA,IAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,UAAA,EAAA,KAAA,EAAA,CAAA,QAAA;AAEA,MAAA,KAAA,CAAA,GAAA,EAAA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,OAAA,EAAA;AACA,mBAAA,KAAA,MAAA,CAAA,KAAA,CAAA;AADA,SAFA;AAKA,QAAA,IAAA,EAAA;AALA,OAAA,CAAA,CAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,4BAAA;AACA,OARA,EAQA,KARA,CAQA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,kCAAA;AACA,OAXA;AAYA,KAhCA;AAiCA,IAAA,cAjCA,0BAiCA,KAjCA,EAiCA;AACA,WAAA,MAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA;AAnCA;AAxBA,CAAA","sourcesContent":["<template>\n    <div class=\"createAd\">\n        <hr>\n        <div v-if=\"message\" class=\"container alert alert-info infoDiv\">\n           {{ message }}\n        </div>\n        <h2>Urejanje oglasa</h2>\n        <br>\n        <b-form v-if=\"this.ad\" @submit.prevent class=\"adForm container border rounded bg-light\">\n            <b-form-group label=\"Naslov:\">\n                <b-form-input v-model=\"ad.title\" placeholder=\"Vpišite ime oglasa\" required id=\"title\"></b-form-input>\n            </b-form-group>\n            <b-form-group label=\"Cena:\" class=\"priceField\">\n                <b-form-input v-model=\"ad.price\" type=\"number\" placeholder=\"Vpišite ceno v evrih\" required id=\"price\"></b-form-input>\n            </b-form-group>\n            <b-form-group label=\"Opis:\">\n                <b-form-textarea v-model=\"ad.desc\" placeholder=\"Podroben opis oglasa\" required id=\"desc\"></b-form-textarea>\n            </b-form-group>\n            <b-form-group label=\"Kategorija:\">\n                <b-form-select v-model=\"ad.category\" :options=\"categories\" required id=\"category\"></b-form-select>\n            </b-form-group>\n            <b-form-group label=\"Stanje:\">\n                <b-form-select v-model=\"ad.cond\" :options=\"conditions\" required id=\"cond\"></b-form-select>\n            </b-form-group>\n            <b-form-group label=\"Slike:\">\n                <b-form-file @change=\"onFileSelected\" id=\"images\" multiple placeholder=\"Izberi slike...\" drop-placeholder=\"Drop file here...\"></b-form-file>\n            </b-form-group>\n            <b-button @click=\"submitEditedAd\" type=\"submit\" variant=\"info\" class=\"alert-info\">Shrani</b-button>\n        </b-form>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { mapState } from 'vuex'\n\nexport default {\n    name: \"createAd\",\n    data() {\n        return {\n            categories: ['Brenkala', 'Tolkala', 'Godala', 'Pihala', 'Inštrumenti s tipkami', 'Trobila', 'Drugo'],\n            conditions: ['Novo', 'Rabljeno'],\n            message: \"\",\n            title: null,\n            price: null,\n            desc: null,\n            category: null,\n            cond: null,\n            images: null,\n            ad: null\n        }\n    },\n    mounted: function() {\n        axios.get('http://localhost:8080/v1/ads/' + this.$route.params.id)\n        .then((response) => {\n            this.ad = response.data;\n        }).catch(e => {\n            console.log('Error', e)\n        })\n    },\n    methods: {\n        submitEditedAd() {\n            let formData = new FormData()\n            let url = \"http://localhost:8080/v1/ads/\" + this.ad.id\n            \n            if (this.images != null) {\n                for (var i = 0; i < this.images.length; i++) {\n                    formData.append(\"images\", this.images[i], this.images[i].name)\n                }\n            }\n            else {\n                formData.append(\"images\", null)\n            }\n\n            formData.append('title', this.ad.title)\n            formData.append('price', this.ad.price)\n            formData.append('description', this.ad.desc)\n            formData.append('cond', this.ad.cond)\n            formData.append('category', this.ad.category)\n\n            fetch(url, {\n                method: 'PUT',\n                headers: {\n                    'token': this.$store.state.loggedUserId\n                },\n                body: formData\n            }).then(res => {\n                this.message = \"Oglas uspešno posodobljen!\"\n            }).catch(err => {\n                console.log(err)\n                this.message = \"Napaka. Prosimo poskusite znova.\"\n            })\n        },\n        onFileSelected(event) {\n            this.images = event.target.files\n        }\n    }\n}\n</script>\n\n<style scoped>\n.adForm {\n    width: 50%;\n    padding: 30px;\n}\n\n.infoDiv {\n    width: 400px;\n}\n</style>"],"sourceRoot":"src/views"}]}