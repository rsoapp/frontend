{"remainingRequest":"/home/majsavli/rsoapp/node_modules/babel-loader/lib/index.js!/home/majsavli/rsoapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/majsavli/rsoapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/majsavli/rsoapp/src/views/CreateAd.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/majsavli/rsoapp/src/views/CreateAd.vue","mtime":1609944298688},{"path":"/home/majsavli/rsoapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/majsavli/rsoapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/majsavli/rsoapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/majsavli/rsoapp/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/majsavli/rsoapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/majsavli/rsoapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/majsavli/rsoapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/majsavli/rsoapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNyZWF0ZUFkIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2F0ZWdvcmllczogWydCcmVua2FsYScsICdUb2xrYWxhJywgJ0dvZGFsYScsICdQaWhhbGEnLCAnSW7FoXRydW1lbnRpIHMgdGlwa2FtaScsICdUcm9iaWxhJywgJ0RydWdvJ10sCiAgICAgIGNvbmRpdGlvbnM6IFsnTm92bycsICdSYWJsamVubyddLAogICAgICBtZXNzYWdlOiAiIiwKICAgICAgdGl0bGU6IG51bGwsCiAgICAgIHByaWNlOiBudWxsLAogICAgICBkZXNjOiBudWxsLAogICAgICBjYXRlZ29yeTogbnVsbCwKICAgICAgY29uZDogbnVsbCwKICAgICAgaW1hZ2VzOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0QWQ6IGZ1bmN0aW9uIHN1Ym1pdEFkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIHZhciB1cmwgPSAiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3YxL2Fkcy91c2VyLyIgKyBTdHJpbmcodGhpcy4kc3RvcmUuc3RhdGUubG9nZ2VkVXNlcklkKTsKCiAgICAgIGlmICh0aGlzLmltYWdlcyAhPSBudWxsKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmltYWdlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJpbWFnZXMiLCB0aGlzLmltYWdlc1tpXSwgdGhpcy5pbWFnZXNbaV0ubmFtZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiaW1hZ2VzIiwgbnVsbCk7CiAgICAgIH0KCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgndGl0bGUnLCB0aGlzLnRpdGxlKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdwcmljZScsIHRoaXMucHJpY2UpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2Rlc2NyaXB0aW9uJywgdGhpcy5kZXNjKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdjb25kJywgdGhpcy5jb25kKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdjYXRlZ29yeScsIHRoaXMuY2F0ZWdvcnkpOwogICAgICBmZXRjaCh1cmwsIHsKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBtb2RlOiAnbm8tY29ycycsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ3Rva2VuJzogdGhpcy4kc3RvcmUuc3RhdGUubG9nZ2VkVXNlcklkCiAgICAgICAgfSwKICAgICAgICBib2R5OiBmb3JtRGF0YQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5tZXNzYWdlID0gIk9nbGFzIHVzcGXFoW5vIG9iamF2bGplbiEiOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMubWVzc2FnZSA9ICJOYXBha2EuIFByb3NpbW8gcG9za3VzaXRlIHpub3ZhLiI7CiAgICAgIH0pOwogICAgfSwKICAgIG9uRmlsZVNlbGVjdGVkOiBmdW5jdGlvbiBvbkZpbGVTZWxlY3RlZChldmVudCkgewogICAgICB0aGlzLmltYWdlcyA9IGV2ZW50LnRhcmdldC5maWxlczsKICAgIH0KICB9Cn07"},{"version":3,"sources":["CreateAd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,QAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,CAAA,UAAA,EAAA,SAAA,EAAA,QAAA,EAAA,QAAA,EAAA,uBAAA,EAAA,SAAA,EAAA,OAAA,CADA;AAEA,MAAA,UAAA,EAAA,CAAA,MAAA,EAAA,UAAA,CAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA,IAJA;AAKA,MAAA,KAAA,EAAA,IALA;AAMA,MAAA,IAAA,EAAA,IANA;AAOA,MAAA,QAAA,EAAA,IAPA;AAQA,MAAA,IAAA,EAAA,IARA;AASA,MAAA,MAAA,EAAA;AATA,KAAA;AAWA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA,UAAA,QAAA,GAAA,IAAA,QAAA,EAAA;AACA,UAAA,GAAA,GAAA,uCAAA,MAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,YAAA,CAAA;;AAEA,UAAA,KAAA,MAAA,IAAA,IAAA,EAAA;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,MAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,UAAA,QAAA,CAAA,MAAA,CAAA,QAAA,EAAA,KAAA,MAAA,CAAA,CAAA,CAAA,EAAA,KAAA,MAAA,CAAA,CAAA,EAAA,IAAA;AACA;AACA,OAJA,MAKA;AACA,QAAA,QAAA,CAAA,MAAA,CAAA,QAAA,EAAA,IAAA;AACA;;AAEA,MAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA,KAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA,KAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,aAAA,EAAA,KAAA,IAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,KAAA,IAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,UAAA,EAAA,KAAA,QAAA;AAEA,MAAA,KAAA,CAAA,GAAA,EAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,IAAA,EAAA,SAFA;AAGA,QAAA,OAAA,EAAA;AACA,mBAAA,KAAA,MAAA,CAAA,KAAA,CAAA;AADA,SAHA;AAMA,QAAA,IAAA,EAAA;AANA,OAAA,CAAA,CAOA,IAPA,CAOA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,0BAAA;AACA,OATA,EASA,KATA,CASA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,kCAAA;AACA,OAXA;AAYA,KAhCA;AAiCA,IAAA,cAjCA,0BAiCA,KAjCA,EAiCA;AACA,WAAA,MAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA;AAnCA;AAfA,CAAA","sourcesContent":["<template>\n    <div class=\"createAd\">\n        <hr>\n        <div v-if=\"message\" class=\"container alert alert-info infoDiv\">\n           {{ message }}\n        </div>\n        <b-form @submit.prevent class=\"adForm container border rounded bg-light\">\n            <b-form-group label=\"Naslov:\">\n                <b-form-input v-model=\"title\" placeholder=\"Vpišite ime oglasa\" required id=\"title\"></b-form-input>\n            </b-form-group>\n            <b-form-group label=\"Cena:\" class=\"priceField\">\n                <b-form-input v-model=\"price\" type=\"number\" placeholder=\"Vpišite ceno v evrih\" required id=\"price\"></b-form-input>\n            </b-form-group>\n            <b-form-group label=\"Opis:\">\n                <b-form-textarea v-model=\"desc\" placeholder=\"Podroben opis oglasa\" required id=\"desc\"></b-form-textarea>\n            </b-form-group>\n            <b-form-group label=\"Kategorija:\">\n                <b-form-select v-model=\"category\" :options=\"categories\" required id=\"category\"></b-form-select>\n            </b-form-group>\n            <b-form-group label=\"Stanje:\">\n                <b-form-select v-model=\"cond\" :options=\"conditions\" required id=\"cond\"></b-form-select>\n            </b-form-group>\n            <b-form-group label=\"Slike:\">\n                <b-form-file @change=\"onFileSelected\" id=\"images\" multiple placeholder=\"Izberi slike...\" drop-placeholder=\"Drop file here...\"></b-form-file>\n            </b-form-group>\n            <b-button @click=\"submitAd\" type=\"submit\" variant=\"info\" class=\"alert-info\">Ustvari oglas</b-button>\n        </b-form>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { mapState } from 'vuex'\n\nexport default {\n    name: \"createAd\",\n    data() {\n        return {\n            categories: ['Brenkala', 'Tolkala', 'Godala', 'Pihala', 'Inštrumenti s tipkami', 'Trobila', 'Drugo'],\n            conditions: ['Novo', 'Rabljeno'],\n            message: \"\",\n            title: null,\n            price: null,\n            desc: null,\n            category: null,\n            cond: null,\n            images: null\n        }\n    },\n    methods: {\n        submitAd() {\n            let formData = new FormData()\n            let url = \"http://localhost:8080/v1/ads/user/\" + String(this.$store.state.loggedUserId)\n            \n            if (this.images != null) {\n                for (var i = 0; i < this.images.length; i++) {\n                    formData.append(\"images\", this.images[i], this.images[i].name)\n                }\n            }\n            else {\n                formData.append(\"images\", null)\n            }\n\n            formData.append('title', this.title)\n            formData.append('price', this.price)\n            formData.append('description', this.desc)\n            formData.append('cond', this.cond)\n            formData.append('category', this.category)\n\n            fetch(url, {\n                method: 'POST',\n                mode: 'no-cors',\n                headers: {\n                    'token': this.$store.state.loggedUserId\n                },\n                body: formData\n            }).then(res => {\n                this.message = \"Oglas uspešno objavljen!\"\n            }).catch(err => {\n                this.message = \"Napaka. Prosimo poskusite znova.\"\n            })\n        },\n        onFileSelected(event) {\n            this.images = event.target.files\n        }\n    }\n}\n</script>\n\n<style scoped>\n.adForm {\n    width: 50%;\n    padding: 30px;\n}\n\n.infoDiv {\n    width: 400px;\n}\n</style>"],"sourceRoot":"src/views"}]}